!function(){var e={4184:function(e,t){var s;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&e.push(a)}}else if("object"===i)if(s.toString===Object.prototype.toString)for(var o in s)r.call(s,o)&&s[o]&&e.push(o);else e.push(s.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(s=function(){return n}.apply(t,[]))||(e.exports=s)}()},7145:function(e,t){"use strict";function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var r="object"==typeof process&&!0;function n(e,t){if(!e){if(r)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=n;var i=Object.prototype.hasOwnProperty,a=Array.prototype.splice,o=Object.prototype.toString;function l(e){return o.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return d(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},d="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=c({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||n(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),n("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var a=e;return d(r).forEach((function(t){if(i.call(s.commands,t)){var n=e===a;a=s.commands[t](r[t],a,r,e),n&&s.isEquals(a,e)&&(a=e)}else{var o="Map"===l(e)?s.update(e.get(t),r[t]):s.update(e[t],r[t]),c="Map"===l(a)?a.get(t):a[t];s.isEquals(o,c)&&(void 0!==o||i.call(e,t))||(a===e&&(a=u(e)),"Map"===l(a)?a.set(t,o):a[t]=o)}})),a},e}();t.Context=p;var h={$push:function(e,t,s){return g(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return g(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,r,i){return function(e,t){n(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),y(t.$splice)}(t,r),e.forEach((function(e){y(e),t===i&&e.length&&(t=u(i)),a.apply(t,e)})),t},$set:function(e,t,s){return function(e){n(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){f(e,"$toggle");var s=e.length?u(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,r){return f(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=u(r)),delete t[e])})),t},$add:function(e,t,s,r){return b(t,"$add"),f(e,"$add"),"Map"===l(t)?e.forEach((function(e){var s=e[0],n=e[1];t===r&&t.get(s)!==n&&(t=u(r)),t.set(s,n)})):e.forEach((function(e){t!==r||t.has(e)||(t=u(r)),t.add(e)})),t},$remove:function(e,t,s,r){return b(t,"$remove"),f(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=u(r)),t.delete(e)})),t},$merge:function(e,t,r,i){var a,o;return a=t,n((o=e)&&"object"==typeof o,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(o)})),n(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+s(a)})),d(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=u(i)),t[s]=e[s])})),t},$apply:function(e,t){var r;return n("function"==typeof(r=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(r)+"."})),e(t)}},m=new p;function g(e,t,r){n(Array.isArray(e),(function(){return"update(): expected target of "+s(r)+" to be an array; got "+s(e)+"."})),f(t[r],r)}function f(e,t){n(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function y(e){n(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function b(e,t){var r=l(e);n("Map"===r||"Set"===r,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(r)}))}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=c(t.default,t)},2705:function(e,t,s){var r=s(5639).Symbol;e.exports=r},9932:function(e){e.exports=function(e,t){for(var s=-1,r=null==e?0:e.length,n=Array(r);++s<r;)n[s]=t(e[s],s,e);return n}},4239:function(e,t,s){var r=s(2705),n=s(9607),i=s(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?n(e):i(e)}},98:function(e){var t=Math.ceil,s=Math.max;e.exports=function(e,r,n,i){for(var a=-1,o=s(t((r-e)/(n||1)),0),l=Array(o);o--;)l[i?o:++a]=e,e+=n;return l}},531:function(e,t,s){var r=s(2705),n=s(9932),i=s(1469),a=s(3448),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return n(t,e)+"";if(a(t))return l?l.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s}},7561:function(e,t,s){var r=s(7990),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},7445:function(e,t,s){var r=s(98),n=s(6612),i=s(8601);e.exports=function(e){return function(t,s,a){return a&&"number"!=typeof a&&n(t,s,a)&&(s=a=void 0),t=i(t),void 0===s?(s=t,t=0):s=i(s),a=void 0===a?t<s?1:-1:i(a),r(t,s,a,e)}}},1957:function(e,t,s){var r="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=r},9607:function(e,t,s){var r=s(2705),n=Object.prototype,i=n.hasOwnProperty,a=n.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),s=e[o];try{e[o]=void 0;var r=!0}catch(e){}var n=a.call(e);return r&&(t?e[o]=s:delete e[o]),n}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var r=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<s}},6612:function(e,t,s){var r=s(7813),n=s(8612),i=s(5776),a=s(3218);e.exports=function(e,t,s){if(!a(s))return!1;var o=typeof t;return!!("number"==o?n(s)&&i(t,s.length):"string"==o&&t in s)&&r(s[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,s){var r=s(1957),n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,s){var r=s(3560),n=s(1780);e.exports=function(e){return null!=e&&n(e.length)&&!r(e)}},3560:function(e,t,s){var r=s(4239),n=s(3218);e.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,s){var r=s(4239),n=s(7005);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},6026:function(e,t,s){var r=s(7445)();e.exports=r},8601:function(e,t,s){var r=s(4841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,s){var r=s(7561),n=s(3218),i=s(3448),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var s=o.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):a.test(e)?NaN:+e}},9833:function(e,t,s){var r=s(531);e.exports=function(e){return null==e?"":r(e)}},3955:function(e,t,s){var r=s(9833),n=0;e.exports=function(e){var t=++n;return r(e)+t}}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.React,r=s.n(t);class n extends r().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,e.createElement)("div",{className:"sui-notice sui-notice-error"},(0,e.createElement)("div",{className:"sui-notice-content"},(0,e.createElement)("div",{className:"sui-notice-message"},(0,e.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Something went wrong. Please contact ",(0,e.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var i=n,a=window.wp.domReady,o=s.n(a),l=window.ReactDOM;function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d=s(4184),u=s.n(d);class p extends r().Component{handleClick(e){e.preventDefault(),this.props.onClick()}render(){let t,s,r=this.props.icon?(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return this.props.loading?(t=(0,e.createElement)("span",{className:"sui-loading-text"},r," ",this.props.text),s=(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})):(t=(0,e.createElement)("span",null,r," ",this.props.text),s=""),(0,e.createElement)("button",{className:u()(this.props.className,"sui-button","sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!this.props.text.trim(),"sui-button-dashed":this.props.dashed}),onClick:e=>this.handleClick(e),id:this.props.id,disabled:this.props.disabled},t,s)}}c(p,"defaultProps",{id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,className:"",onClick:()=>!1});var h=window.wp.i18n;class m extends r().Component{render(){const t=u()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,e.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,e.createElement)("button",{className:t,"aria-label":(0,h.__)("Dropdown","wds"),disabled:this.props.disabled},(0,e.createElement)("span",{className:"sui-loading-text"},(0,e.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,e.createElement)("ul",null,this.props.buttons.map(((t,s)=>(0,e.createElement)("li",{key:s},t)))))}}c(m,"defaultProps",{icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1});class g extends r().Component{render(){return(0,e.createElement)("button",{className:u()({"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}c(g,"defaultProps",{text:"",icon:"",red:!1,onClick:()=>!1});var f=SUI,y=s.n(f),b=jQuery,w=s.n(b);class E extends r().Component{constructor(e){super(e),this.props=e}componentDidMount(){y().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){y().closeModal()}handleKeyDown(e){w()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const t=this.getHeaderActions(),s=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,e.createElement)("div",{className:u()("sui-modal",s),onKeyDown:e=>this.handleKeyDown(e)},(0,e.createElement)("div",{role:"dialog",id:this.props.id,className:u()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,e.createElement)("div",{className:"sui-box",role:"document"},(0,e.createElement)("div",{className:u()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},(0,e.createElement)("h3",{id:this.getTitleId(),className:u()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),t),(0,e.createElement)("div",{className:u()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,e.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,e.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const t=this.getCloseButton();return this.props.small?t:this.props.headerActions?this.props.headerActions:(0,e.createElement)("div",{className:"sui-actions-right"},t)}getCloseButton(){return(0,e.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:u()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,e.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,h.__)("Close this dialog window","wds")))}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}c(E,"defaultProps",{id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,onClose:()=>!1});var x=function(t,s){return class extends r().Component{constructor(e){super(e),this.state={initial:!0}}isValueValid(e){if(this.state.initial)return!0;if(Array.isArray(s)){let t=!0;return s.forEach((s=>{t=t&&s(e)})),t}return s(e)}handleChange(e){this.setState({initial:!1},(()=>{this.props.onChange(e,this.isValueValid(e))}))}render(){return(0,e.createElement)(t,v({},this.props,{isValid:this.isValueValid(this.props.value),onChange:e=>this.handleChange(e)}))}}};class k extends r().Component{constructor(e){super(e)}render(){return(0,e.createElement)("div",{className:u()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,e.createElement)("label",{className:"sui-label"},this.props.label),(0,e.createElement)("input",{id:this.props.id,type:"text",className:"sui-form-control",onChange:e=>this.props.onChange(e.target.value),value:this.props.value,placeholder:this.props.placeholder}),!!this.props.description&&(0,e.createElement)("p",{className:"sui-description"},(0,e.createElement)("small",null,this.props.description)))}}c(k,"defaultProps",{id:"",label:"",description:"",value:"",isValid:!0,placeholder:"",onChange:()=>!1});class C{static isNonEmpty(e){return e&&e.trim()}static isValuePlainText(e){return w()("<div>").html(e).text()===e}}const _=x(k,[C.isNonEmpty,C.isValuePlainText]),P=x(k,[C.isNonEmpty,C.isValuePlainText]);class S extends r().Component{constructor(e){super(e);const t=this.props.editMode;this.state={keyword:this.props.keyword,keywordIsValid:t,url:this.props.url,urlIsValid:t}}handleKeywordChange(e,t){this.setState({keyword:e,keywordIsValid:t})}handleUrlChange(e,t){this.setState({url:e,urlIsValid:t})}render(){const t=()=>this.props.onSave(this.state.keyword,this.state.url),s=!this.state.keywordIsValid||!this.state.urlIsValid;return(0,e.createElement)(E,{id:"wds-custom-keywords",title:(0,h.__)("Add Custom Keywords","wds"),description:(0,h.__)("Choose your keywords, and then specify the URL to auto-link to.","wds"),enterDisabled:s,focusAfterOpen:"wds-custom-keyword",focusAfterClose:"wds-keyword-pair-new-button",onEnter:t,onClose:this.props.onClose,footer:(0,e.createElement)(r().Fragment,null,(0,e.createElement)("div",{className:"sui-flex-child-right"},(0,e.createElement)(p,{text:(0,h.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose})),(0,e.createElement)("div",{className:"sui-actions-right"},(0,e.createElement)(p,{text:(0,h.__)("Save","wds"),color:"blue",onClick:t,icon:"sui-icon-save",disabled:s})))},(0,e.createElement)(_,{id:"wds-custom-keyword",label:(0,e.createInterpolateElement)((0,h.__)("Keyword group <span>Usually related terms</span>","wds"),{span:(0,e.createElement)("span",null)}),value:this.state.keyword,placeholder:(0,h.__)("E.g. Cats, Kittens, Felines","wds"),onChange:(e,t)=>this.handleKeywordChange(e,t)}),(0,e.createElement)(P,{label:(0,e.createInterpolateElement)((0,h.__)("Link URL <span>Both internal and external links are supported</span>","wds"),{span:(0,e.createElement)("span",null)}),value:this.state.url,placeholder:(0,h.__)("E.g. /cats","wds"),description:(0,e.createInterpolateElement)((0,h.__)("Formats include relative (E.g. <strong>/cats</strong>) or absolute URLs (E.g. <strong>https://www.website.com/cats</strong> or <strong>https://website.com/cats</strong>).","wds"),{strong:(0,e.createElement)("strong",null)}),onChange:(e,t)=>this.handleUrlChange(e,t)}))}}c(S,"defaultProps",{keyword:"",url:"",editMode:!1,onClose:()=>!1,onSave:()=>!1});class N extends r().Component{constructor(e){super(e),this.state={pairs:this.dataPropToPairs(),addingPair:!1,editingPair:!1}}render(){return(0,e.createElement)("div",{className:"wds-keyword-pairs"},this.state.pairs&&!!this.state.pairs.length&&(0,e.createElement)("table",{className:"wds-keyword-pairs-existing sui-table"},(0,e.createElement)("tbody",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",null,(0,h.__)("Keyword","wds")),(0,e.createElement)("th",{colSpan:"2"},(0,h.__)("Auto-Linked URL","wds"))),this.state.pairs.map(((t,s)=>(0,e.createElement)("tr",{className:"wds-keyword-pair"},(0,e.createElement)("td",{className:"wds-pair-keyword"},t.keyword),(0,e.createElement)("td",{className:"wds-pair-url"},t.url),(0,e.createElement)("td",{className:"wds-pair-actions"},(0,e.createElement)(m,{buttons:[(0,e.createElement)(g,{onClick:()=>this.startEditingPair(s),icon:"sui-icon-pencil",text:(0,h.__)("Edit","wds")}),(0,e.createElement)(g,{onClick:()=>this.deletePair(s),icon:"sui-icon-trash",text:(0,h.__)("Delete","wds"),red:!0})]}),this.state.editingPair===s&&(0,e.createElement)(S,{keyword:t.keyword,url:t.url,editMode:!0,onClose:()=>this.stopEditingPair(),onSave:(e,t)=>this.editPair(s,e,t)}))))))),(0,e.createElement)("div",{className:"wds-keyword-pair-new"},(0,e.createElement)(p,{id:"wds-keyword-pair-new-button",icon:"sui-icon-plus",onClick:()=>this.startAddingPair(),text:(0,h.__)("Add Link","wds")})),(0,e.createElement)("textarea",{name:"wds_autolinks_options[customkey]",style:{display:"none"},value:this.pairsToText()}),this.state.addingPair&&(0,e.createElement)(S,{onClose:()=>this.stopAddingPair(),onSave:(e,t)=>this.addPair(e,t)}))}dataPropToPairs(){return this.textToPairs(this.props.data)}textToPairs(e){const t=e.split(/\n/),s=[];return t.forEach((e=>{if(!e.includes(","))return;const t=e.split(",").map((e=>e.trim()));s.push({keyword:t.slice(0,-1).join(","),url:t.slice(-1).pop()})})),s}pairsToText(){const e=[];return this.state.pairs.forEach((t=>{var s,r;const n=null===(s=t.keyword)||void 0===s?void 0:s.trim(),i=null===(r=t.url)||void 0===r?void 0:r.trim();n&&i&&e.push(n+","+i)})),e.join("\n")}startEditingPair(e){this.setState({editingPair:e})}editPair(e,t,s){const r=this.state.pairs.slice();t.trim()&&s.trim()&&(r[e]={keyword:t,url:s},this.setState({pairs:r,editingPair:!1}))}stopEditingPair(){this.setState({editingPair:!1})}startAddingPair(){this.setState({addingPair:!0})}addPair(e,t){const s=this.state.pairs.slice();e.trim()&&t.trim()&&(s.push({keyword:e,url:t}),this.setState({pairs:s,addingPair:!1}))}stopAddingPair(){this.setState({addingPair:!1})}deletePair(e){const t=this.state.pairs.filter(((t,s)=>s!==e));this.setState({pairs:t})}}c(N,"defaultProps",{data:""});var A=class{static get(e,t="general"){Array.isArray(e)||(e=[e]);let s=window["_wds_"+t]||{};return e.forEach((e=>{s=s&&s.hasOwnProperty(e)?s[e]:""})),s}static get_bool(e,t="general"){return!!this.get(e,t)}};class j extends r().Component{render(){return(0,e.createElement)("div",{className:"sui-builder-field"},(0,e.createElement)("label",{className:"sui-checkbox"},(0,e.createElement)("input",{type:"checkbox",checked:this.props.selected,onChange:e=>this.props.onToggle(e.target.checked)}),(0,e.createElement)("span",{"aria-hidden":"true"})),(0,e.createElement)("div",{className:"sui-builder-field-label"},this.props.source),(0,e.createElement)("small",null,this.props.destination),(0,e.createElement)("span",{className:"wds-redirect-type-label"},"301"===this.props.type&&(0,e.createElement)("small",null,(0,h.__)("Permanent","wds")),"302"===this.props.type&&(0,e.createElement)("small",null,(0,h.__)("Temporary","wds"))),(0,e.createElement)(m,{buttons:[(0,e.createElement)(g,{icon:"sui-icon-pencil",text:(0,h.__)("Edit","wds"),onClick:()=>this.props.onEdit()}),(0,e.createElement)(g,{icon:"sui-icon-trash",text:(0,h.__)("Remove","wds"),red:!0,onClick:()=>this.props.onDelete()})]}))}}c(j,"defaultProps",{source:"",destination:"",type:"",selected:!1,onToggle:()=>!1,onEdit:()=>!1,onDelete:()=>!1});var R=s(3955),O=s.n(R);class T extends r().Component{render(){const t=this.props.formControl;return(0,e.createElement)("div",{className:u()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,e.createElement)("label",{className:"sui-label"},this.props.label),(0,e.createElement)(t,this.props),!!this.props.description&&(0,e.createElement)("p",{className:"sui-description"},(0,e.createElement)("small",null,this.props.description)))}}c(T,"defaultProps",{label:"",description:"",isValid:!0,formControl:!1});class U extends r().Component{constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=r().createRef(),this.selectElementContainer=r().createRef()}componentDidMount(){const e=w()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),w().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,s){let r=new Option(t,e,!1,s);w()(this.selectElement.current).append(r).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){w()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:w()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(t){return Object.keys(t).map((s=>{const r=t[s];return this.isOptGroup(r)?(0,e.createElement)("optgroup",{key:s,label:r.label},this.printOptions(r.options)):(0,e.createElement)("option",{key:s,value:s},r)}))}render(){const t=this.props.options;let s;return s=Object.keys(t).length?this.printOptions(t):(0,e.createElement)("option",null),(0,e.createElement)("div",{ref:this.selectElementContainer},(0,e.createElement)("select",{disabled:this.state.loadingText,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},s))}}c(U,"defaultProps",{small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,onSelect:()=>!1});class D extends r().Component{render(){return(0,e.createElement)(T,v({},this.props,{formControl:U}))}}function V(){return A.get("default_redirect_type","autolinks")}const I=x(k,[C.isNonEmpty,C.isValuePlainText]),$=x(k,[C.isNonEmpty,C.isValuePlainText]);class M extends r().Component{constructor(e){super(e);const t=this.props.editMode;this.state={source:this.props.source,isSourceValid:t,destination:this.props.destination,isDestinationValid:t,type:this.props.type}}handleSourceChange(e,t){this.setState({source:e,isSourceValid:t})}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const t=()=>this.props.onSave(this.state.source.trim(),this.state.destination.trim(),this.state.type),s=!this.state.isSourceValid||!this.state.isDestinationValid;return(0,e.createElement)(E,{id:"wds-add-redirect-form",title:(0,h.__)("Add Redirect","wds"),description:(0,e.createInterpolateElement)((0,h.__)("Allowed formats include relative URLs like <strong>/cats</strong> or absolute URLs such as <strong>https://website.com/cats</strong>.","wds"),{strong:(0,e.createElement)("strong",null)}),onEnter:t,onClose:this.props.onClose,enterDisabled:s,focusAfterOpen:"wds-source-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,e.createElement)(I,{id:"wds-source-field",label:(0,h.__)("Old URL","wds"),value:this.state.source,placeholder:(0,h.__)("E.g. /cats","wds"),onChange:(e,t)=>this.handleSourceChange(e,t)}),(0,e.createElement)($,{label:(0,h.__)("New URL","wds"),value:this.state.destination,placeholder:(0,h.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,e.createElement)(D,{label:(0,h.__)("Redirect Type","wds"),description:(0,h.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,h.__)("Temporary","wds"),301:(0,h.__)("Permanent","wds")},selectedValue:this.state.type,onSelect:e=>this.setState({type:e})}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,e.createElement)(p,{text:(0,h.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose}),(0,e.createElement)(p,{text:(0,h.__)("Save","wds"),color:"blue",onClick:t,icon:"sui-icon-save",disabled:s})))}}c(M,"defaultProps",{editMode:!1,source:"",destination:"",type:V(),onSave:()=>!1,onClose:()=>!1});var L=s(7145),F=s.n(L);const B=x(k,[C.isNonEmpty,C.isValuePlainText]);class q extends r().Component{constructor(e){super(e),this.state={destination:"",isDestinationValid:!1,type:V()}}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const t=()=>this.props.onSave(this.state.destination.trim(),this.state.type),s=!this.state.isDestinationValid;return(0,e.createElement)(E,{id:"wds-bulk-update-redirects",title:(0,h.__)("Bulk Update","wds"),description:(0,h.__)("Choose which bulk update actions you wish to apply. This will override the existing values for the selected items.","wds"),onEnter:t,onClose:this.props.onClose,enterDisabled:s,focusAfterOpen:"wds-destination-field",focusAfterClose:"wds-add-redirect-dashed-button",small:!0},(0,e.createElement)(B,{id:"wds-destination-field",label:(0,h.__)("New URL","wds"),value:this.state.destination,placeholder:(0,h.__)("E.g. /cats-new","wds"),onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,e.createElement)(D,{label:(0,h.__)("Redirect Type","wds"),description:(0,h.__)("This tells search engines whether to keep indexing the old page, or replace it with the new page.","wds"),options:{302:(0,h.__)("Temporary","wds"),301:(0,h.__)("Permanent","wds")},selectedValue:this.state.type,onSelect:e=>this.setState({type:e})}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,e.createElement)(p,{text:(0,h.__)("Cancel","wds"),ghost:!0,onClick:this.props.onClose}),(0,e.createElement)(p,{text:(0,h.__)("Save","wds"),color:"blue",onClick:t,icon:"sui-icon-save",disabled:s})))}}c(q,"defaultProps",{onSave:()=>!1,onClose:()=>!1});var K=s(6026),Q=s.n(K);class W{static getPage(e,t,s){const r={};return Object.keys(e).slice((t-1)*s,t*s).forEach((t=>r[t]=e[t])),r}static getPageCount(e,t){const s=Math.ceil(e/t);return s<1?1:s}}class Y extends r().Component{handleClick(e,t){e.preventDefault(),this.props.onClick(t)}getPageNumbers(){const e=this.getPageCount(),t=Q()(1,e+1);if(e<=7)return t;const s=this.props.currentPage;let r,n;s<=3?(r=s-1,n=7-r-1):e-s<=3?(n=e-s,r=7-n-1):(r=2,n=3);let i=-1;const a=t.map((e=>e<s-r||e>s+n?i:(i--,e)));return Array.from(new Set(a))}render(){const t=this.getPageCount(),s=this.getPageNumbers();return(0,e.createElement)("div",{className:"sui-pagination-wrap"},(0,e.createElement)("span",{className:"sui-pagination-results"},(0,h.sprintf)((0,h.__)("%s results","wds"),this.props.count)),(0,e.createElement)("ul",{className:"sui-pagination"},(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,1),disabled:1===this.props.currentPage},(0,e.createElement)("span",{className:"sui-icon-arrow-skip-back","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,h.__)("Go to first page","wds")))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage-1),disabled:1===this.props.currentPage},(0,e.createElement)("span",{className:"sui-icon-chevron-left","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,h.__)("Go to previous page","wds")))),s.map((t=>t<0?(0,e.createElement)("li",{key:t},(0,e.createElement)("a",{style:{pointerEvents:"none"}},"...")):(0,e.createElement)("li",{key:t,className:u()({"sui-active":t===this.props.currentPage})},(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,t)},t)))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,this.props.currentPage+1),disabled:this.props.currentPage===t},(0,e.createElement)("span",{className:"sui-icon-chevron-right","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,h.__)("Go to next page","wds")))),(0,e.createElement)("li",null,(0,e.createElement)("a",{href:"#",role:"button",onClick:e=>this.handleClick(e,t),disabled:this.props.currentPage===t},(0,e.createElement)("span",{className:"sui-icon-arrow-skip-forward","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,h.__)("Go to last page","wds"))))))}getPageCount(){return W.getPageCount(this.props.count,this.props.perPage)}}c(Y,"defaultProps",{count:0,perPage:10,currentPage:1,onClick:()=>!1});class G{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,s=new URLSearchParams(t);if(!s.get(e))return;s.delete(e);const r=location.href.replace(t,"?"+s.toString());history.replaceState({},"",r)}}class H extends r().Component{constructor(e){super(e);const t=this.prepareInternalData(this.props.redirects,this.props.types);this.state={redirects:t,bulkItems:new Set,addingRedirect:!1,editingRedirect:!1,bulkUpdating:!1,currentPageNumber:1},this.redirectsPerPage=10}componentDidMount(){this.maybeStartAddingRedirect()}prepareInternalData(e,t){const s={};return Object.keys(e).forEach((r=>{if(!t.hasOwnProperty(r))return;const n=this.getUniqueId();s[n]={source:r,destination:e[r],type:t[r]+""}})),s}getUniqueId(){return O()("redirect-")}render(){const t=this.state.redirects,s=this.objectLength(t),n=s>0,i=this.getRedirectsPage(),a=this.objectLength(i),o=this.state.bulkItems.size,l=a>0&&o===a;return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"sui-box-builder"},(0,e.createElement)("div",{className:"sui-box-builder-header",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"}},(0,e.createElement)(p,{text:(0,h.__)("Add Redirect","wds"),color:"purple",icon:"sui-icon-plus",onClick:()=>this.startAddingRedirect()}),(0,e.createElement)("div",null,s>this.redirectsPerPage&&(0,e.createElement)(Y,{count:s,currentPage:this.state.currentPageNumber,perPage:this.redirectsPerPage,onClick:e=>this.changePage(e)}))),(0,e.createElement)("div",{className:u()("sui-box-builder-body",{"wds-no-redirects":!n})},(0,e.createElement)("div",{className:"wds-redirect-controls"},(0,e.createElement)("label",{className:"sui-checkbox"},(0,e.createElement)("input",{type:"checkbox",checked:l,onChange:e=>this.toggleAll(e.target.checked)}),(0,e.createElement)("span",{"aria-hidden":"true"})),(0,e.createElement)(p,{text:(0,h.__)("Bulk Update","wds"),onClick:()=>this.startBulkUpdate(),disabled:!o}),this.state.bulkUpdating&&(0,e.createElement)(q,{onSave:(e,t)=>this.bulkUpdate(e,t),onClose:()=>this.stopBulkUpdate()}),(0,e.createElement)(p,{text:(0,h.__)("Remove Redirects","wds"),onClick:()=>this.bulkDeleteRedirects(),disabled:!o})),(0,e.createElement)("div",{className:"sui-builder-fields"},Object.keys(i).map((t=>{const s=i[t];return(0,e.createElement)(r().Fragment,{key:t},(0,e.createElement)(j,v({},s,{selected:this.state.bulkItems.has(t),onToggle:e=>this.toggleItem(t,e),onEdit:()=>this.startEditingRedirect(t),onDelete:()=>this.deleteSingleRedirect(t)})),this.state.editingRedirect===t&&(0,e.createElement)(M,{editMode:!0,source:s.source,destination:s.destination,type:s.type,onSave:(e,s,r)=>this.editRedirect(t,e,s,r),onClose:()=>this.stopEditingRedirect()}))}))),(0,e.createElement)(p,{id:"wds-add-redirect-dashed-button",dashed:!0,icon:"sui-icon-plus",text:(0,h.__)("Add Redirect","wds"),onClick:()=>this.startAddingRedirect()}),(0,e.createElement)("p",{className:"wds-no-redirects-message"},(0,e.createElement)("small",null,(0,h.__)("You can add as many redirects as you like. Add your first above!","wds"))))),this.state.addingRedirect&&(0,e.createElement)(M,{onSave:(e,t,s)=>this.addRedirect(e,t,s),onClose:()=>this.stopAddingRedirect()}),(0,e.createElement)("input",{type:"hidden",name:"wds_autolinks_options[urls]",value:JSON.stringify(this.state.redirects)}))}changePage(e){this.setState({currentPageNumber:e,bulkItems:new Set})}setRedirect(e,t,s,r){const n=F()(this.state.redirects,{[e]:{$set:{source:t,destination:s,type:r}}});return new Promise((e=>{this.setState({redirects:n},e)}))}startAddingRedirect(){this.setState({addingRedirect:!0})}addRedirect(e,t,s){this.sourceExists(e)?this.showErrorNotice((0,h.__)("That URL already exists, please try again.","wds")):this.setRedirect(this.getUniqueId(),e,t,s).then((()=>{this.showSuccessNotice((0,h.__)("The redirect has been added. You need to save the changes to make them live.","wds")),this.setState({currentPageNumber:this.getPageCount()}),this.stopAddingRedirect()}))}sourceExists(e){return Object.values(this.state.redirects).filter((t=>t.source===e)).length>0}stopAddingRedirect(){this.maybeRemoveQueryParam(),this.setState({addingRedirect:!1})}startEditingRedirect(e){this.setState({editingRedirect:e})}editRedirect(e,t,s,r){this.setRedirect(e,t,s,r),this.stopEditingRedirect(),this.showSuccessNotice((0,h.__)("The redirect has been updated. You need to save the changes to make them live.","wds"))}stopEditingRedirect(){this.setState({editingRedirect:!1})}startBulkUpdate(){this.setState({bulkUpdating:!0})}bulkUpdate(e,t){const s=this.state.bulkItems,r={};s.forEach((s=>{r[s]={destination:{$set:e},type:{$set:t}}})),this.setState({redirects:F()(this.state.redirects,r),bulkUpdating:!1}),this.showSuccessNotice((0,h.__)("The redirects have been updated. You need to save the changes to make them live.","wds"))}stopBulkUpdate(){this.setState({bulkUpdating:!1})}bulkDeleteRedirects(){this.deleteRedirect(Array.from(this.state.bulkItems)),this.showSuccessNotice((0,h.__)("The redirects have been removed. You need to save the changes to make them live.","wds"))}deleteSingleRedirect(e){this.deleteRedirect(e),this.showSuccessNotice((0,h.__)("The redirect has been removed. You need to save the changes to make them live.","wds"))}deleteRedirect(e){Array.isArray(e)||(e=[e]);const t=F()(this.state.redirects,{$unset:e}),s=F()(this.state.bulkItems,{$remove:e});this.setState({redirects:t},(()=>{this.setState({currentPageNumber:this.newPageNumberAfterDeletion(),bulkItems:s})}))}toggleItem(e,t){const s=this.state.bulkItems;t?s.add(e):s.delete(e),this.setState({bulkItems:s})}toggleAll(e){let t;t=e?Object.keys(this.getRedirectsPage()):[],this.setState({bulkItems:new Set(t)})}getPageCount(){return W.getPageCount(this.objectLength(this.state.redirects),this.redirectsPerPage)}getRedirectsPage(){return W.getPage(this.state.redirects,this.state.currentPageNumber,this.redirectsPerPage)}newPageNumberAfterDeletion(){const e=this.state.currentPageNumber;return e>this.getPageCount()?e-1:e}objectLength(e){return Object.keys(e).length}showNotice(e,t="success"){y().closeNotice("wds-redirect-notice"),y().openNotice("wds-redirect-notice","<p>"+e+"</p>",{type:t,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[t],dismiss:{show:!1}})}showSuccessNotice(e){this.showNotice(e,"info")}showErrorNotice(e){this.showNotice(e,"error")}maybeStartAddingRedirect(){"1"===G.getQueryParam("add_redirect")&&this.startAddingRedirect()}maybeRemoveQueryParam(){G.removeQueryParam("add_redirect")}}o()((()=>{const t=document.getElementById("wds-custom-keyword-pairs");if(t){const s=A.get("custom_keywords","autolinks")||"";(0,l.render)((0,e.createElement)(i,null,(0,e.createElement)(N,{data:s})),t)}const s=document.getElementById("wds-redirects-container");if(s){const t=A.get("redirects","autolinks")||{},r=A.get("redirect_types","autolinks")||{};(0,l.render)((0,e.createElement)(i,null,(0,e.createElement)(H,{redirects:t,types:r})),s)}})),function(e){function t(t){var s=e(this).find(".wds-action-button"),r=t.which;s.length&&13===r&&(t.preventDefault(),t.stopPropagation(),s.trigger("click"))}function s(t){var s=!0,r=e(this),n=e('button[type="submit"]',r);e(".sui-form-field",r).each((function(){var t=e(this),r=e("input",t);r.val().trim()||(s=!1,t.addClass("sui-form-field-error"),r.on("focus keydown",(function(){e(this).closest(".sui-form-field-error").removeClass("sui-form-field-error")})))})),s?n.addClass("sui-button-onload"):(n.removeClass("sui-button-onload"),t.preventDefault())}function r(){this.style.height="1px",this.style.height=this.scrollHeight+"px"}e((function(){var n;e("#ignorepost").closest(".wds-excluded-posts").each((function(){window.Wds.Postlist.exclude(e(this))})),e(".wds-vertical-tabs").on("wds_vertical_tabs:tab_change",(function(t,s){e(s).find(".wds-vertical-tab-section").removeClass("hidden")})),e(document).on("submit",".wds-moz-form",s).on("input propertychange",".tab_robots_editor textarea",r).on("keydown",".sui-modal",t),e(".tab_robots_editor textarea").each((function(){r.apply(this)})),window.Wds.link_dropdown(),window.Wds.accordion(),window.Wds.vertical_tabs(),window.Wds.hook_toggleables(),"tab_url_redirection"===(n=new URLSearchParams(window.location.search)).get("tab")&&n.get("add_redirect")&&e("button.wds-add-redirect").trigger("click")}))}(jQuery)}()}();
!function(){var e={4184:function(e,t){var s;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)){if(s.length){var o=r.apply(null,s);o&&e.push(o)}}else if("object"===i)if(s.toString===Object.prototype.toString)for(var a in s)n.call(s,a)&&s[a]&&e.push(a);else e.push(s.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},7145:function(e,t){"use strict";function s(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var n="object"==typeof process&&!0;function r(e,t){if(!e){if(n)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=r;var i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function l(e){return a.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return u(t).forEach((function(s){i.call(t,s)&&(e[s]=t[s])})),e},u="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function d(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===l(e)?new Map(e):"Set"===l(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=c({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var s=this,n="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(n)||r(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),r("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(s.commands).join(", ")+"."}));var o=e;return u(n).forEach((function(t){if(i.call(s.commands,t)){var r=e===o;o=s.commands[t](n[t],o,n,e),r&&s.isEquals(o,e)&&(o=e)}else{var a="Map"===l(e)?s.update(e.get(t),n[t]):s.update(e[t],n[t]),c="Map"===l(o)?o.get(t):o[t];s.isEquals(a,c)&&(void 0!==a||i.call(e,t))||(o===e&&(o=d(e)),"Map"===l(o)?o.set(t,a):o[t]=a)}})),o},e}();t.Context=p;var h={$push:function(e,t,s){return g(t,s,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,s){return g(t,s,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+s(e)})),f(t.$splice)}(t,n),e.forEach((function(e){f(e),t===i&&e.length&&(t=d(i)),o.apply(t,e)})),t},$set:function(e,t,s){return function(e){r(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(s),e},$toggle:function(e,t){w(e,"$toggle");var s=e.length?d(t):t;return e.forEach((function(e){s[e]=!t[e]})),s},$unset:function(e,t,s,n){return w(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===n&&(t=d(n)),delete t[e])})),t},$add:function(e,t,s,n){return b(t,"$add"),w(e,"$add"),"Map"===l(t)?e.forEach((function(e){var s=e[0],r=e[1];t===n&&t.get(s)!==r&&(t=d(n)),t.set(s,r)})):e.forEach((function(e){t!==n||t.has(e)||(t=d(n)),t.add(e)})),t},$remove:function(e,t,s,n){return b(t,"$remove"),w(e,"$remove"),e.forEach((function(e){t===n&&t.has(e)&&(t=d(n)),t.delete(e)})),t},$merge:function(e,t,n,i){var o,a;return o=t,r((a=e)&&"object"==typeof a,(function(){return"update(): $merge expects a spec of type 'object'; got "+s(a)})),r(o&&"object"==typeof o,(function(){return"update(): $merge expects a target of type 'object'; got "+s(o)})),u(e).forEach((function(s){e[s]!==t[s]&&(t===i&&(t=d(i)),t[s]=e[s])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+s(n)+"."})),e(t)}},m=new p;function g(e,t,n){r(Array.isArray(e),(function(){return"update(): expected target of "+s(n)+" to be an array; got "+s(e)+"."})),w(t[n],n)}function w(e,t){r(Array.isArray(e),(function(){return"update(): expected spec of "+s(t)+" to be an array; got "+s(e)+". Did you forget to wrap your parameter in an array?"}))}function f(e){r(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+s(e)+". Did you forget to wrap your parameters in an array?"}))}function b(e,t){var n=l(e);r("Map"===n||"Set"===n,(function(){return"update(): "+s(t)+" expects a target of type Set or Map; got "+s(n)}))}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=c(t.default,t)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.React,n=s.n(t);class r extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.error(t)}render(){return this.state.hasError?(0,e.createElement)("div",{className:"sui-notice sui-notice-error"},(0,e.createElement)("div",{className:"sui-notice-content"},(0,e.createElement)("div",{className:"sui-notice-message"},(0,e.createElement)("span",{className:"sui-notice-icon sui-icon-warning-alert sui-md","aria-hidden":"true"}),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,"Something went wrong. Please contact ",(0,e.createElement)("a",{target:"_blank",href:"https://wpmudev.com/get-support/"},"support"),"."))))):this.props.children}}var i=r,o=window.ReactDOM,a=s.n(o);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u=window.wp.i18n,d=s(4184),p=s.n(d);class h extends n().Component{constructor(e){super(e),this.state={open:!1}}toggle(e){const t=e.target.className||"";("BUTTON"!==(e.target.tagName||"")||t.includes("sui-accordion-open-indicator"))&&this.setState({open:!this.state.open})}render(){return(0,e.createElement)("div",{className:p()("sui-accordion-item",this.props.className,{"sui-accordion-item--open":this.state.open})},(0,e.createElement)("div",{className:"sui-accordion-item-header",onClick:e=>this.toggle(e)},this.props.header),this.props.children&&(0,e.createElement)("div",{className:"sui-accordion-item-body"},(0,e.createElement)("div",{className:"sui-box"},(0,e.createElement)("div",{className:"sui-box-body"},this.props.children))))}}c(h,"defaultProps",{className:""});class m extends n().Component{constructor(e){super(e),this.state={activeTab:"issues"}}render(){const t=this.props.activeIssues,s=Object.keys(t).length,r=this.props.ignoredIssues,i=s+Object.keys(r).length>0,o=this.getTabData(t,r);return(0,e.createElement)(h,{className:p()({[this.props.warningClass]:s>0,"sui-success":s<1,"wds-no-crawl-issues":!i}),header:(0,e.createElement)(n().Fragment,null,(0,e.createElement)("div",{className:"sui-accordion-item-title"},(0,e.createElement)("span",{"aria-hidden":"true",className:p()({"sui-icon-warning-alert":s>0,[this.props.warningClass]:s>0,"sui-success sui-icon-check-tick":s<1})}),this.getTitle(s)),i&&(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"sui-accordion-open-indicator"},(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,e.createElement)("button",{type:"button",className:"sui-screen-reader-text"},(0,u.__)("Expand issue","wds")))))},i&&(0,e.createElement)(n().Fragment,null,(0,e.createElement)("small",null,(0,e.createElement)("strong",null,(0,u.__)("Overview","wds"))),(0,e.createElement)("p",null,(0,e.createElement)("small",null,this.props.description)),(0,e.createElement)("div",{className:"sui-tabs"},(0,e.createElement)("div",{"data-tabs":""},Object.keys(o).map((t=>(0,e.createElement)("div",{key:t,className:p()({active:this.state.activeTab===t}),onClick:()=>this.setState({activeTab:t})},o[t].label)))),(0,e.createElement)("div",{"data-panes":""},Object.keys(o).map((t=>(0,e.createElement)("div",{key:t,className:p()({active:this.state.activeTab===t})},this.getPane(o[t]))))))))}getTabData(e,t){return{issues:{label:(0,u.__)("Issues","wds"),items:e,noItemsNotice:(0,u.__)("No active issues.","wds"),tableClass:"wds-crawl-issues-table"},ignored:{label:(0,u.__)("Ignored","wds"),items:t,noItemsNotice:(0,u.__)("No ignored issues.","wds"),tableClass:"wds-ignored-items-table"}}}getPane(t){const s=t.items,r=Object.keys(s).length>0;return(0,e.createElement)(n().Fragment,null,(0,e.createElement)("table",{className:t.tableClass},(0,e.createElement)("tbody",null,r&&(0,e.createElement)(n().Fragment,null,Object.keys(s).map((e=>this.props.renderIssue(e,s[e]))),(0,e.createElement)("tr",{className:"wds-controls-row"},(0,e.createElement)("td",{colSpan:"4"},this.props.renderControls(this.props.type,this.state.activeTab)))),!r&&(0,e.createElement)("tr",{className:"wds-no-results-row"},(0,e.createElement)("td",{colSpan:"2"},(0,e.createElement)("small",null,t.noItemsNotice))))))}getTitle(e){return(0,u.sprintf)(1===e?this.props.singularTitle:this.props.pluralTitle,e>0?e:(0,u.__)("No","wds"))}}c(m,"defaultProps",{type:"",activeIssues:{},ignoredIssues:{},singularTitle:"",pluralTitle:"",description:"",warningClass:"sui-warning",renderIssue:()=>!1,renderControls:()=>!1});class g extends n().Component{render(){return(0,e.createElement)(m,l({},this.props,{singularTitle:(0,u.__)("%s URL has multiple redirections","wds"),pluralTitle:(0,u.__)("%s URLs have multiple redirections","wds"),description:(0,u.__)("Some of your URLs have multiple redirections. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class w extends n().Component{render(){return(0,e.createElement)(m,l({},this.props,{singularTitle:(0,u.__)("%s URL is resulting in 4xx error","wds"),pluralTitle:(0,u.__)("%s URLs are resulting in 4xx errors","wds"),description:(0,u.__)("Some of your URLs are resulting in 4xx errors. Either the page no longer exists or the URL has changed. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class f extends n().Component{render(){return(0,e.createElement)(m,l({},this.props,{singularTitle:(0,u.__)("%s URL is resulting in 5xx server error","wds"),pluralTitle:(0,u.__)("%s URLs are resulting in 5xx server errors","wds"),description:(0,u.__)("Some of your URLs are resulting in 5xx server errors. These errors are indicative of errors in your server-side code. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class b extends n().Component{render(){return(0,e.createElement)(m,l({},this.props,{singularTitle:(0,u.__)("%s URL could not be processed","wds"),pluralTitle:(0,u.__)("%s URLs could not be processed","wds"),description:(0,u.__)("Some of your URLs could not be processed by our crawlers. In the options menu you can List occurrences to see where these links can be found, and also set up and 301 redirects to a newer version of these pages.","wds")}))}}class E extends n().Component{render(){return(0,e.createElement)(m,l({},this.props,{singularTitle:(0,u.__)("%s URL is missing from the sitemap","wds"),pluralTitle:(0,u.__)("%s URLs are missing from the sitemap","wds"),description:(0,u.__)("SmartCrawl couldn’t find these URLs in your Sitemap. You can choose to add them to your Sitemap, or ignore the warning if you don’t want them included.","wds"),warningClass:"sui-default"}))}}class y extends n().Component{render(){const t=p()("sui-button-icon sui-dropdown-anchor",{"sui-button-onload":this.props.loading});return(0,e.createElement)("div",{className:"sui-dropdown sui-accordion-item-action"},(0,e.createElement)("button",{className:t,"aria-label":(0,u.__)("Dropdown","wds"),disabled:this.props.disabled},(0,e.createElement)("span",{className:"sui-loading-text"},(0,e.createElement)("span",{className:this.props.icon,style:{pointerEvents:"none"},"aria-hidden":"true"})),(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})),(0,e.createElement)("ul",null,this.props.buttons.map(((t,s)=>(0,e.createElement)("li",{key:s},t)))))}}c(y,"defaultProps",{icon:"sui-icon-widget-settings-config",buttons:[],loading:!1,disabled:!1,onClick:()=>!1});class _ extends n().Component{render(){return(0,e.createElement)("button",{className:p()({"sui-option-red":this.props.red}),onClick:()=>this.props.onClick(),type:"button"},(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}),this.props.text)}}c(_,"defaultProps",{text:"",icon:"",red:!1,onClick:()=>!1});class v extends n().Component{handleClick(e){e.preventDefault(),this.props.onClick()}render(){let t,s,n=this.props.icon?(0,e.createElement)("span",{className:this.props.icon,"aria-hidden":"true"}):"";return this.props.loading?(t=(0,e.createElement)("span",{className:"sui-loading-text"},n," ",this.props.text),s=(0,e.createElement)("span",{className:"sui-icon-loader sui-loading","aria-hidden":"true"})):(t=(0,e.createElement)("span",null,n," ",this.props.text),s=""),(0,e.createElement)("button",{className:p()(this.props.className,"sui-button","sui-button-"+this.props.color,{"sui-button-onload":this.props.loading,"sui-button-ghost":this.props.ghost,"sui-button-icon":!this.props.text.trim(),"sui-button-dashed":this.props.dashed}),onClick:e=>this.handleClick(e),id:this.props.id,disabled:this.props.disabled},t,s)}}c(v,"defaultProps",{id:"",text:"",color:"",dashed:!1,icon:!1,loading:!1,ghost:!1,disabled:!1,className:"",onClick:()=>!1});class x extends n().Component{render(){return(0,e.createElement)("tr",null,(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-warning-alert"}),(0,e.createElement)("small",null,(0,e.createElement)("strong",null,this.props.path))),(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)(y,{loading:this.props.loading,disabled:this.props.disabled,buttons:[(0,e.createElement)(_,{icon:"sui-icon-plus",text:(0,u.__)("Add to Sitemap","wds"),onClick:()=>this.props.onAddToSitemap()}),(0,e.createElement)(_,{icon:"sui-icon-eye-hide",text:(0,u.__)("Ignore","wds"),onClick:()=>this.props.onIgnore()})]}),this.props.ignored&&(0,e.createElement)(v,{icon:"sui-icon-plus",text:(0,u.__)("Restore","wds"),ghost:!0,loading:this.props.loading,disabled:this.props.disabled,onClick:()=>this.props.onRestore()})))}}c(x,"defaultProps",{path:"",loading:!1,disabled:!1,onAddToSitemap:()=>!1,onIgnore:()=>!1,onRestore:()=>!1});var C=SUI,I=s.n(C),N=jQuery,S=s.n(N);class k extends n().Component{constructor(e){super(e),this.props=e}componentDidMount(){I().openModal(this.props.id,this.props.focusAfterClose,this.props.focusAfterOpen?this.props.focusAfterOpen:this.getTitleId(),!1,!1)}componentWillUnmount(){I().closeModal()}handleKeyDown(e){S()(e.target).is(".sui-modal.sui-active input")&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),!this.props.enterDisabled&&this.props.onEnter&&this.props.onEnter(e))}render(){const t=this.getHeaderActions(),s=Object.assign({},{"sui-modal-sm":this.props.small,"sui-modal-lg":!this.props.small},this.props.dialogClasses);return(0,e.createElement)("div",{className:p()("sui-modal",s),onKeyDown:e=>this.handleKeyDown(e)},(0,e.createElement)("div",{role:"dialog",id:this.props.id,className:p()("sui-modal-content",this.props.id+"-modal"),"aria-modal":"true","aria-labelledby":this.props.id+"-modal-title","aria-describedby":this.props.id+"-modal-description"},(0,e.createElement)("div",{className:"sui-box",role:"document"},(0,e.createElement)("div",{className:p()("sui-box-header",{"sui-flatten sui-content-center sui-spacing-top--40":this.props.small})},(0,e.createElement)("h3",{id:this.getTitleId(),className:p()("sui-box-title",{"sui-lg":this.props.small})},this.props.title),t),(0,e.createElement)("div",{className:p()("sui-box-body",{"sui-content-center":this.props.small})},this.props.description&&(0,e.createElement)("p",{className:"sui-description",id:this.props.id+"-modal-description"},this.props.description),this.props.children),this.props.footer&&(0,e.createElement)("div",{className:"sui-box-footer"},this.props.footer))))}getTitleId(){return this.props.id+"-modal-title"}getHeaderActions(){const t=this.getCloseButton();return this.props.small?t:this.props.headerActions?this.props.headerActions:(0,e.createElement)("div",{className:"sui-actions-right"},t)}getCloseButton(){return(0,e.createElement)("button",{id:this.props.id+"-close-button",type:"button",onClick:()=>this.props.onClose(),disabled:this.props.disableCloseButton,className:p()("sui-button-icon",{"sui-button-float--right":this.props.small})},(0,e.createElement)("span",{className:"sui-icon-close sui-md","aria-hidden":"true"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,u.__)("Close this dialog window","wds")))}}c(k,"defaultProps",{id:"",title:"",description:"",small:!1,headerActions:!1,focusAfterOpen:"",focusAfterClose:"container",dialogClasses:[],disableCloseButton:!1,enterDisabled:!1,onEnter:!1,onClose:()=>!1});class A extends n().Component{render(){const t=[...new Set(this.props.origin)],s=(0,e.createInterpolateElement)((0,u.sprintf)((0,u.__)("We found links to <strong>%s</strong> in these locations, you might want to remove these links or direct them somewhere else.","wds"),this.props.path),{strong:(0,e.createElement)("strong",null)});return(0,e.createElement)(k,{id:"wds-issue-occurrences",title:(0,u.__)("Broken URL Locations","wds"),description:s,onClose:()=>this.props.onClose(),focusAfterOpen:"wds-close-occurrences-modal-button",small:!0},(0,e.createElement)("div",{className:"wds-issue-occurrences"},(0,e.createElement)("ul",null,t.map((t=>(0,e.createElement)("li",{key:t},(0,e.createElement)("a",{href:t},t)))))),(0,e.createElement)(v,{id:"wds-close-occurrences-modal-button",onClick:()=>this.props.onClose(),ghost:!0,text:(0,u.__)("Close","wds")}))}}c(A,"defaultProps",{path:"",origin:[],onClose:()=>!1});class P extends n().Component{constructor(e){super(e),this.state={showingOccurrences:!1}}render(){return(0,e.createElement)("tr",null,(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-warning sui-icon-warning-alert"}),(0,e.createElement)("small",null,(0,e.createElement)("strong",null,this.props.path))),!this.props.ignored&&(0,e.createElement)("td",null,(0,e.createElement)("span",{className:"sui-tag sui-tag-warning"},!!this.props.origin&&this.props.origin.length)),(0,e.createElement)("td",null,!this.props.ignored&&(0,e.createElement)(y,{loading:this.props.loading,disabled:this.props.disabled,buttons:[(0,e.createElement)(_,{text:(0,u.__)("List Occurrences","wds"),icon:"sui-icon-list-bullet",onClick:()=>this.startShowingOccurrences()}),(0,e.createElement)(_,{text:(0,u.__)("Redirect","wds"),icon:"sui-icon-arrow-right",onClick:()=>this.props.onRedirect()}),(0,e.createElement)(_,{text:(0,u.__)("Ignore","wds"),icon:"sui-icon-eye-hide",onClick:()=>this.props.onIgnore()})]}),this.props.ignored&&(0,e.createElement)(v,{icon:"sui-icon-plus",text:(0,u.__)("Restore","wds"),ghost:!0,loading:this.props.loading,disabled:this.props.disabled,onClick:()=>this.props.onRestore()}),this.state.showingOccurrences&&(0,e.createElement)(A,{path:this.props.path,origin:this.props.origin,onClose:()=>this.stopShowingOccurrences()})))}startShowingOccurrences(){this.setState({showingOccurrences:!0})}stopShowingOccurrences(){this.setState({showingOccurrences:!1})}}c(P,"defaultProps",{path:"",origin:[],loading:!1,disabled:!1,onRedirect:()=>!1,onIgnore:()=>!1,onRestore:()=>!1});var O=class{static get(e,t="general"){Array.isArray(e)||(e=[e]);let s=window["_wds_"+t]||{};return e.forEach((e=>{s=s&&s.hasOwnProperty(e)?s[e]:""})),s}static get_bool(e,t="general"){return!!this.get(e,t)}},T=ajaxurl,j=s.n(T);class R{static redirect(e,t){return this.post("wds_redirect_crawl_item",{source:e,destination:t})}static changeIssueStatus(e,t){return this.post(t,{issue_id:e})}static ignoreIssue(e){return this.changeIssueStatus(e,"wds_ignore_crawl_item")}static restoreIssue(e){return this.changeIssueStatus(e,"wds_restore_crawl_item")}static restoreAll(){return this.post("wds_restore_all_crawl_items")}static addToSitemap(e){return this.post("wds_sitemap_add_extra",{path:e})}static post(e,t){const s=O.get("nonce","crawler");return class{static post(e,t,s={}){return new Promise((function(n,r){const i=Object.assign({},{action:e,_wds_nonce:t},s);S().post(j(),i).done((function(e){var t;e.success?n(null==e?void 0:e.data):r(null==e||null===(t=e.data)||void 0===t?void 0:t.message)})).fail((()=>r()))}))}}.post(e,s,t)}}class U extends n().Component{constructor(e){super(e)}render(){return(0,e.createElement)("div",{className:p()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,e.createElement)("label",{className:"sui-label"},this.props.label),(0,e.createElement)("input",{id:this.props.id,type:"text",className:"sui-form-control",onChange:e=>this.props.onChange(e.target.value),value:this.props.value,placeholder:this.props.placeholder}),!!this.props.description&&(0,e.createElement)("p",{className:"sui-description"},(0,e.createElement)("small",null,this.props.description)))}}c(U,"defaultProps",{id:"",label:"",description:"",value:"",isValid:!0,placeholder:"",onChange:()=>!1});class q{static isNonEmpty(e){return e&&e.trim()}static isValuePlainText(e){return S()("<div>").html(e).text()===e}}const L=($=U,D=[q.isNonEmpty,q.isValuePlainText],class extends n().Component{constructor(e){super(e),this.state={initial:!0}}isValueValid(e){if(this.state.initial)return!0;if(Array.isArray(D)){let t=!0;return D.forEach((s=>{t=t&&s(e)})),t}return D(e)}handleChange(e){this.setState({initial:!1},(()=>{this.props.onChange(e,this.isValueValid(e))}))}render(){return(0,e.createElement)($,l({},this.props,{isValid:this.isValueValid(this.props.value),onChange:e=>this.handleChange(e)}))}});var $,D;class V extends n().Component{constructor(e){super(e),this.state={destination:this.props.destination,isDestinationValid:q.isNonEmpty(this.props.destination)}}handleDestinationChange(e,t){this.setState({destination:e,isDestinationValid:t})}render(){const t=(0,e.createInterpolateElement)((0,u.sprintf)((0,u.__)("Choose where to redirect <strong>%s</strong>","wds"),this.props.source),{strong:(0,e.createElement)("strong",null)}),s=(0,e.createInterpolateElement)((0,u.__)("Formats include relative URLs like <strong>/cats</strong> or absolute URLs like <strong>https://website.com/cats</strong>. This feature will automatically redirect traffic from the broken URL to this new URL, you can view all your redirects under <strong><a>Advanced Tools</a></strong>.","wds"),{strong:(0,e.createElement)("strong",null),a:(0,e.createElement)("a",{href:O.get("advanced_tools_url","crawler")})}),n=()=>this.props.onSave(this.state.destination.trim()),r=!this.state.isDestinationValid;return(0,e.createElement)(k,{id:"wds-issue-redirect",title:(0,u.__)("Redirect URL","wds"),description:t,focusAfterOpen:"wds-crawler-redirect-destination",onEnter:n,enterDisabled:r,onClose:()=>this.props.onClose(),disableCloseButton:this.props.requestInProgress,small:!0},(0,e.createElement)(L,{id:"wds-crawler-redirect-destination",label:(0,u.__)("New URL","wds"),placeholder:(0,u.__)("Enter new URL","wds"),description:s,value:this.state.destination,onChange:(e,t)=>this.handleDestinationChange(e,t)}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,e.createElement)(v,{text:(0,u.__)("Cancel","wds"),ghost:!0,onClick:()=>this.props.onClose(),disabled:this.props.requestInProgress}),(0,e.createElement)(v,{text:(0,u.__)("Apply","wds"),onClick:n,icon:"sui-icon-check",disabled:r,loading:this.props.requestInProgress})))}}c(V,"defaultProps",{source:"",destination:"",requestInProgress:!1,onSave:()=>!1,onClose:()=>!1});class W extends n().Component{render(){return(0,e.createElement)("div",{className:"sui-floating-notices"},(0,e.createElement)("div",{role:"alert",id:this.props.id,className:"sui-notice","aria-live":"assertive"}))}}c(W,"defaultProps",{id:""});class M{static showSuccessNotice(e,t,s=!0){return this.showNotice(e,t,"success",s)}static showErrorNotice(e,t,s=!0){return this.showNotice(e,t,"error",s)}static showInfoNotice(e,t,s=!0){return this.showNotice(e,t,"info",s)}static showWarningNotice(e,t,s=!0){return this.showNotice(e,t,"warning",s)}static showNotice(e,t,s="success",n=!0){SUI.closeNotice(e),SUI.openNotice(e,"<p>"+t+"</p>",{type:s,icon:{error:"warning-alert",info:"info",warning:"warning-alert",success:"check-tick"}[s],dismiss:{show:n}})}}var B=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function F(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!((n=e[s])===(r=t[s])||B(n)&&B(r)))return!1;var n,r;return!0}var G=function(e,t){var s;void 0===t&&(t=F);var n,r=[],i=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i&&s===this&&t(o,r)||(n=e.apply(this,o),i=!0,s=this,r=o),n}};class K extends n().Component{constructor(e){super(e),this.state={issues:O.get("issues","crawler")||{},redirectInProgress:!1,requestInProgress:!1},this.getAllActiveIssueKeysMemoized=G((e=>this.getAllActiveIssueKeys(e))),this.getActiveSitemapIssuesMemoized=G((e=>this.getActiveSitemapIssueCount(e)))}componentDidUpdate(e,t,s){const n=this.getIssues(),r=this.getAllActiveIssueKeysMemoized(n),i=this.getActiveSitemapIssuesMemoized(n);this.props.onActiveIssueCountChange(r.length,i)}render(){const t=this.getIssues()||{},s=Array.from(new Set([...Object.keys(t),"3xx","4xx","5xx","sitemap","inaccessible"])),r=this.getAllActiveIssueKeysMemoized(t);return(0,e.createElement)(n().Fragment,null,r.length>0&&this.getIgnoreAllButton(),(0,e.createElement)("p",null,(0,u.__)("Here are potential issues SmartCrawl has picked up. We recommend fixing them up to ensure you aren’t penalized by search engines - you can however ignore any of these warnings.","wds")),(0,e.createElement)(W,{id:"wds-crawl-report-notice"}),(0,e.createElement)("div",{className:"sui-accordion wds-draw-left"},s.map((s=>{const n=this.getGroupComponent(s),r=t.hasOwnProperty(s)?t[s]:{},i="sitemap"===s?(e,t)=>this.renderSitemapIssue(e,t):(e,t)=>this.renderIssue(e,t),o="sitemap"===s?(e,t)=>this.renderSitemapControls(e,t):(e,t)=>this.renderControls(e,t);return(0,e.createElement)(n,{type:s,key:s,activeIssues:this.getActiveIssues(r),ignoredIssues:this.getIgnoredIssues(r),renderIssue:i,renderControls:o})}))),this.maybeShowRedirectModal())}renderSitemapIssue(t,s){return(0,e.createElement)(x,l({},s,{key:t,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onIgnore:()=>this.ignoreItem(t),onAddToSitemap:()=>this.addToSitemap(t),onRestore:()=>this.restoreItem(t)}))}renderIssue(t,s){return(0,e.createElement)(P,l({},s,{key:t,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onRedirect:()=>this.startRedirecting(t),onIgnore:()=>this.ignoreItem(t),onRestore:()=>this.restoreItem(t)}))}addToSitemap(e){this.setState({requestInProgress:e},(()=>{const t=this.getIssue(e);R.addToSitemap(t.path).then((e=>{this.showSuccessNotice((0,u.__)("The missing item has been added to your sitemap as an extra URL.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}ignoreItem(e){this.setState({requestInProgress:e},(()=>{R.ignoreIssue(e).then((e=>{this.showSuccessNotice((0,u.__)("The issue has been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}restoreItem(e){this.setState({requestInProgress:e},(()=>{R.restoreIssue(e).then((e=>{this.showSuccessNotice((0,u.__)("The issue has been restored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}maybeShowRedirectModal(){if(!this.state.redirectInProgress)return!1;const t=this.state.redirectInProgress,s=this.getIssue(t);return!!s&&(0,e.createElement)(V,{source:s.path,destination:s.redirect,onSave:e=>this.redirect(s.path,e),onClose:()=>this.stopRedirecting(),requestInProgress:this.state.requestInProgress})}startRedirecting(e){this.setState({redirectInProgress:e})}redirect(e,t){this.setState({requestInProgress:!0},(()=>{R.redirect(e,t).then((e=>{this.showSuccessNotice((0,u.__)("The URL has been redirected successfully.","wds")),this.setState({redirectInProgress:!1,issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}stopRedirecting(){this.setState({redirectInProgress:!1})}renderControls(e,t){return"issues"===t?this.getIgnoreAllOfTypeButton(e):this.getRestoreAllButton(e)}getIgnoreAllOfTypeButton(t){return(0,e.createElement)(v,{icon:"sui-icon-eye-hide",text:(0,u.__)("Ignore All","wds"),ghost:!0,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onClick:()=>this.ignoreAllOfType(t)})}getIgnoreAllButton(){const t=function(t,s){return class extends n().Component{render(){const n=document.getElementById(s);return n?a().createPortal((0,e.createElement)(t,this.props),n):null}}}(v,"wds-ignore-all-button-placeholder");return(0,e.createElement)(t,{text:(0,u.__)("Ignore All","wds"),ghost:!0,icon:"sui-icon-eye-hide",onClick:()=>this.ignoreAll(),loading:"ignore-all"===this.state.requestInProgress,disabled:this.state.requestInProgress})}getRestoreAllButton(t){return(0,e.createElement)(v,{icon:"sui-icon-plus",text:(0,u.__)("Restore All","wds"),ghost:!0,loading:this.state.requestInProgress===t,disabled:this.state.requestInProgress,onClick:()=>this.restoreAll(t)})}renderSitemapControls(t,s){return"issues"!==s?this.getRestoreAllButton(t):(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},this.getIgnoreAllOfTypeButton(t),(0,e.createElement)(v,{icon:"sui-icon-plus",text:(0,u.__)("Add All to Sitemap","wds"),color:"blue",loading:"add-all-to-sitemap"===this.state.requestInProgress,disabled:this.state.requestInProgress,onClick:()=>this.addAllToSitemap(t)}))}restoreAll(e){const t=this.getIssues(),s=Object.keys(this.getIgnoredIssues(t[e]));this.setState({requestInProgress:e},(()=>{R.restoreIssue(s).then((e=>{this.showSuccessNotice((0,u.__)("The issues have been restored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}ignoreAll(){const e=this.getIssues(),t=this.getAllActiveIssueKeys(e);this.setState({requestInProgress:"ignore-all"},(()=>{R.ignoreIssue(t).then((e=>{this.showSuccessNotice((0,u.__)("The issues have been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}getActiveSitemapIssueCount(e){const t=this.getActiveIssues(e.sitemap||{});return Object.keys(t).length}getAllActiveIssueKeys(e){const t=this.getFlattenedIssues(e);return Object.keys(this.getActiveIssues(t))}getFlattenedIssues(e){return Object.keys(e).reduce(((t,s)=>Object.assign(t,e[s])),{})}ignoreAllOfType(e){const t=this.getIssues(),s=Object.keys(this.getActiveIssues(t[e]));this.setState({requestInProgress:e},(()=>{R.ignoreIssue(s).then((e=>{this.showSuccessNotice((0,u.__)("The issues have been ignored.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}addAllToSitemap(e){const t=this.getIssues(),s=Object.keys(this.getActiveIssues(t[e])).map((s=>t[e][s].path));this.setState({requestInProgress:"add-all-to-sitemap"},(()=>{R.addToSitemap(s).then((e=>{this.showSuccessNotice((0,u.__)("The missing items have been added to your sitemap as extra URLs.","wds")),this.setState({issues:e.issues})})).catch(this.showError).finally((()=>this.markRequestAsComplete()))}))}getGroupComponent(e){const t={"3xx":g,"4xx":w,"5xx":f,inaccessible:b,sitemap:E};return!!t.hasOwnProperty(e)&&t[e]}getIssue(e){const t=this.getIssues();let s=!1;return Object.keys(t).some((n=>{const r=Object.keys(t[n]).find((t=>t===e));return r&&(s=t[n][r]),r})),s}getActiveIssues(e){return this.filterIssues((t=>!e[t].ignored),e)}getIgnoredIssues(e){return this.filterIssues((t=>e[t].ignored),e)}filterIssues(e,t){return t=t||{},Object.keys(t).filter(e).reduce(((e,s)=>Object.assign(e,{[s]:t[s]})),{})}getIssues(){return this.state.issues||{}}showSuccessNotice(e){M.showSuccessNotice("wds-crawl-report-notice",e,!1)}showError(e){M.showErrorNotice("wds-crawl-report-notice",e||(0,u.__)("An unknown error occurred, please reload the page and try again.","wds"),!1)}markRequestAsComplete(){this.setState({requestInProgress:!1})}}c(K,"defaultProps",{onActiveIssueCountChange:()=>!1});class z extends n().Component{render(){return(0,e.createElement)("div",{className:"sui-box-settings-row"},(0,e.createElement)("div",{className:"sui-box-settings-col-1"},(0,e.createElement)("span",{className:"sui-settings-label"},this.props.label),(0,e.createElement)("span",{className:"sui-description"},this.props.description)),(0,e.createElement)("div",{className:"sui-box-settings-col-2"},this.props.children))}}c(z,"defaultProps",{label:"",description:""});class H extends n().Component{render(){const t=this.props.tabs;return(0,e.createElement)("div",{className:"sui-side-tabs"},(0,e.createElement)("div",{className:"sui-tabs-menu"},Object.keys(t).map((s=>(0,e.createElement)("div",{className:p()("sui-tab-item",{active:this.props.value===s}),key:s,onClick:()=>this.props.onChange(s)},t[s])))),this.props.children&&(0,e.createElement)("div",{className:"sui-tab-content sui-tab-boxed"},this.props.children))}}c(H,"defaultProps",{tabs:{},value:"",onChange:()=>!1});class Q extends n().Component{render(){return(0,e.createElement)("button",{type:"button",className:"sui-button-icon sui-accordion-open-indicator"},(0,e.createElement)("span",{"aria-hidden":"true",className:"sui-icon-chevron-down"}),(0,e.createElement)("span",{className:"sui-screen-reader-text"},(0,u.__)("Expand item","wds")))}}class Y extends n().Component{render(){return(0,e.createElement)("label",{className:"sui-checkbox"},(0,e.createElement)("input",{id:this.props.id,type:"checkbox",checked:this.props.checked,onChange:e=>this.props.onChange(e.target.checked)}),(0,e.createElement)("span",{"aria-hidden":"true"}))}}c(Y,"defaultProps",{id:"",checked:!1,onChange:()=>!1});class J extends n().Component{render(){const t=this.props.formControl;return(0,e.createElement)("div",{className:p()("sui-form-field",{"sui-form-field-error":!this.props.isValid})},(0,e.createElement)("label",{className:"sui-label"},this.props.label),(0,e.createElement)(t,this.props),!!this.props.description&&(0,e.createElement)("p",{className:"sui-description"},(0,e.createElement)("small",null,this.props.description)))}}c(J,"defaultProps",{label:"",description:"",isValid:!0,formControl:!1});class X extends n().Component{constructor(e){super(e),this.props=e,this.state={loadingText:!1},this.selectElement=n().createRef(),this.selectElementContainer=n().createRef()}componentDidMount(){const e=S()(this.selectElement.current);e.addClass(this.props.small?"sui-select sui-select-sm":"sui-select").SUIselect2(this.getSelect2Args()),this.includeSelectedValueAsDynamicOption(),e.on("change",(e=>this.handleChange(e)))}includeSelectedValueAsDynamicOption(){this.props.selectedValue&&this.noOptionsAvailable()&&(this.props.tagging?Array.isArray(this.props.selectedValue)?this.props.selectedValue.forEach((e=>{this.addOption(e,e,!0)})):this.addOption(this.props.selectedValue,this.props.selectedValue,!0):this.props.loadTextAjaxUrl&&this.loadTextFromRemote())}loadTextFromRemote(){this.state.loadingText||(this.setState({loadingText:!0}),S().get(this.props.loadTextAjaxUrl,{id:this.props.selectedValue}).done((e=>{e&&e.results&&e.results.length&&e.results.forEach((e=>{this.addOption(e.id,e.text,!0)})),this.setState({loadingText:!1})})))}addOption(e,t,s){let n=new Option(t,e,!1,s);S()(this.selectElement.current).append(n).trigger("change")}noOptionsAvailable(){return!Object.keys(this.props.options).length}componentWillUnmount(){S()(this.selectElement.current).off().SUIselect2("destroy")}getSelect2Args(){let e={dropdownParent:S()(this.selectElementContainer.current),dropdownCssClass:"sui-select-dropdown",minimumResultsForSearch:this.props.minimumResultsForSearch,multiple:this.props.multiple,tagging:this.props.tagging};return this.props.placeholder&&(e.placeholder=this.props.placeholder),this.props.ajaxUrl&&(e.ajax={url:this.props.ajaxUrl},e.minimumInputLength=this.props.minimumInputLength),this.props.templateResult&&(e.templateResult=this.props.templateResult),this.props.templateSelection&&(e.templateSelection=this.props.templateSelection),this.props.ajaxUrl&&this.props.tagging&&(e.ajax.processResults=(e,t)=>e.results&&!e.results.length?{results:[{id:t.term,text:t.term}]}:e),e}handleChange(e){let t=e.target.value;this.props.multiple&&(t=Array.from(e.target.selectedOptions,(e=>e.value))),this.props.onSelect(t)}isOptGroup(e){return"object"==typeof e&&e.label&&e.options}printOptions(t){return Object.keys(t).map((s=>{const n=t[s];return this.isOptGroup(n)?(0,e.createElement)("optgroup",{key:s,label:n.label},this.printOptions(n.options)):(0,e.createElement)("option",{key:s,value:s},n)}))}render(){const t=this.props.options;let s;return s=Object.keys(t).length?this.printOptions(t):(0,e.createElement)("option",null),(0,e.createElement)("div",{ref:this.selectElementContainer},(0,e.createElement)("select",{disabled:this.state.loadingText,value:this.props.selectedValue,onChange:()=>!0,ref:this.selectElement,multiple:this.props.multiple},s))}}c(X,"defaultProps",{small:!1,tagging:!1,placeholder:"",ajaxUrl:"",loadTextAjaxUrl:"",selectedValue:"",minimumResultsForSearch:10,minimumInputLength:3,multiple:!1,options:{},templateResult:!1,templateSelection:!1,onSelect:()=>!1});class Z extends n().Component{render(){const t=this.props.taxonomies||{};return this.props.included?(0,e.createElement)(h,{className:"sui-builder-field",header:(0,e.createElement)(n().Fragment,null,this.getHeader(),(0,e.createElement)(Q,null))},Object.keys(t).map((s=>{const n=t[s],r=n.terms||{};return(0,e.createElement)("div",{className:"wds-news-taxonomy",key:s},(0,e.createElement)("strong",null,(0,u.sprintf)((0,u.__)("Exclude %s","wds"),n.label)),(0,e.createElement)("p",{className:"sui-description"},(0,u.sprintf)((0,u.__)("Select %s that should be excluded from the Google News sitemap.","wds"),n.label)),(0,e.createElement)("div",{className:"wds-news-taxonomy-terms"},Object.keys(r).map((t=>{const n="wds-news-"+this.props.name+"-term-"+t,i=r[t];return(0,e.createElement)("span",{className:"wds-news-term",key:n},(0,e.createElement)(Y,{id:n,checked:i.excluded,onChange:e=>this.props.onTermExclusionChange(this.props.name,s,i.id,e)}),(0,e.createElement)("label",{htmlFor:n},i.label))}))))})),(0,e.createElement)(J,{label:(0,u.sprintf)((0,u.__)("%s to exclude","wds"),this.props.label),description:(0,u.__)("Search for and select posts that should be excluded from the Google News sitemap.","wds"),formControl:X,placeholder:(0,u.__)("Start typing...","wds"),selectedValue:this.props.excluded,multiple:!0,ajaxUrl:this.getAjaxSearchUrl(),loadTextAjaxUrl:this.getAjaxSearchUrl("text"),onSelect:e=>this.props.onPostExclusion(this.props.name,e)})):(0,e.createElement)(h,{className:"sui-builder-field disabled",header:this.getHeader()})}getAjaxSearchUrl(e=""){return(0,u.sprintf)("%s?action=wds-search-post&type=%s&request_type=%s",j(),this.props.name,e)}getHeader(){return(0,e.createElement)(n().Fragment,null,(0,e.createElement)(Y,{checked:this.props.included,onChange:e=>this.props.onPostTypeInclusionChange(this.props.name,e)}),(0,e.createElement)("div",{className:"sui-builder-field-label"},(0,e.createElement)("span",null,this.props.label),(0,e.createElement)("span",null,"(",this.props.name,")")))}}c(Z,"defaultProps",{name:"",label:"",included:!1,excluded:[],taxonomies:{},onPostTypeInclusionChange:()=>!1,onTermExclusionChange:()=>!1,onPostExclusion:()=>!1});var ee=s(7145),te=s.n(ee);class se extends n().Component{render(){const t=this.getIcon(this.props.type);return(0,e.createElement)("div",{className:p()("sui-notice","sui-notice-"+this.props.type)},(0,e.createElement)("div",{className:"sui-notice-content"},(0,e.createElement)("div",{className:"sui-notice-message"},t&&(0,e.createElement)("span",{className:p()("sui-notice-icon sui-md",t),"aria-hidden":"true"}),(0,e.createElement)("p",null,this.props.message))))}getIcon(e){return{warning:"sui-icon-warning-alert",info:"sui-icon-info",success:"sui-icon-check-tick",purple:"sui-icon-info","":"sui-icon-info"}[e]}}c(se,"defaultProps",{type:"warning",message:""});class ne extends n().Component{constructor(e){super(e),this.state={requestInProgress:!1,enabled:this.props.enabled,publication:this.props.publication,postTypes:this.props.postTypes}}render(){const t=this.state.enabled,s=this.state.publication,n=this.state.postTypes;return(0,e.createElement)("div",{className:"sui-box"},(0,e.createElement)(W,{id:"wds-news-sitemap-notice"}),(0,e.createElement)("div",{className:"sui-box-header"},(0,e.createElement)("h2",{className:"sui-box-title"},(0,u.__)("News Sitemap","wds"))),(0,e.createElement)("div",{className:"sui-box-body"},(0,e.createElement)("p",null,(0,e.createInterpolateElement)((0,u.__)("Are you publishing newsworthy content? Use the Google News Sitemap to list news articles and posts published in the last 48 hours so that they show up in Google News. <a>Learn More</a>","wds"),{a:(0,e.createElement)("a",{href:"https://wpmudev.com/docs/wpmu-dev-plugins/smartcrawl/#news-sitemap",target:"_blank"})})),t&&(0,e.createElement)(se,{type:"info",message:(0,e.createInterpolateElement)((0,u.__)("Your sitemap is available at <a>/news-sitemap.xml</a>","wds"),{a:(0,e.createElement)("a",{target:"_blank",href:this.props.homeUrl+"news-sitemap.xml"})})}),(0,e.createElement)(z,{label:(0,u.__)("Enable News Sitemap","wds"),description:(0,u.__)("Use this option to enable or disable the Google News Sitemap feature.","wds")},(0,e.createElement)("div",{style:{marginBottom:"10px"}},(0,e.createElement)(H,{value:t?"enable":"disable",onChange:e=>this.toggleNewsSitemap(e),tabs:{enable:(0,u.__)("Enable","wds"),disable:(0,u.__)("Disable","wds")}})),t&&this.props.schemaEnabled&&(0,e.createElement)(se,{type:"",message:(0,e.createInterpolateElement)((0,u.__)("SmartCrawl automatically changes the schema to <strong>NewsArticle</strong> for all included posts/pages to ensure your newsworthy content is properly crawled and indexed. Note that if some schema types have been added using the Types Builder, the <strong>NewsArticle</strong> schema will not be displayed.","wds"),{strong:(0,e.createElement)("strong",null)})})),t&&(0,e.createElement)(z,{label:(0,u.__)("News Publication","wds"),description:(0,u.__)("Enter your Google News publication name.","wds")},(0,e.createElement)(U,{label:(0,u.__)("Publication Name","wds"),description:(0,e.createInterpolateElement)((0,u.__)("The publication name must match your publication name on <span>news.google.com</span>","wds"),{span:(0,e.createElement)("span",{style:{color:"#000"}})}),value:s,onChange:e=>this.updatePublication(e)})),t&&(0,e.createElement)(z,{label:(0,u.__)("Inclusions","wds"),description:(0,u.__)("Select Post Types to include in your news sitemap.","wds")},(0,e.createElement)("strong",null,(0,u.__)("Post types to include","wds")),(0,e.createElement)("p",{className:"sui-description",style:{margin:"10px 0 20px 0"}},(0,u.__)("Select post types to be included in the Google News sitemap. Expand a post type to exclude specific items or groups.","wds")),(0,e.createElement)("div",{className:"sui-box-builder"},(0,e.createElement)("div",{className:"sui-box-builder-body"},(0,e.createElement)("div",{className:"sui-builder-fields sui-accordion"},Object.keys(n).map((t=>{const s=n[t];return(0,e.createElement)(Z,l({key:t},s,{onPostTypeInclusionChange:(e,t)=>this.updatePostTypeInclusionStatus(e,t),onTermExclusionChange:(e,t,s,n)=>this.updateTermExclusionStatus(e,t,s,n),onPostExclusion:(e,t)=>this.updatePostExclusion(e,t)}))}))))))),(0,e.createElement)("div",{className:"sui-box-footer"},(0,e.createElement)("input",{type:"hidden",name:"wds_sitemap_options[news-settings]",value:JSON.stringify(this.state)}),(0,e.createElement)("button",{name:"submit",type:"submit",className:"sui-button sui-button-blue"},(0,e.createElement)("span",{className:"sui-icon-save","aria-hidden":"true"}),(0,u.__)("Save Settings","wds"))))}updatePostExclusion(e,t){const s=this.formatSpec([e,"excluded"],{$set:t}),n=te()(this.state.postTypes,s);this.setState({postTypes:n})}updatePostTypeInclusionStatus(e,t){const s=te()(this.state.postTypes,{[e]:{included:{$set:t}}});this.setState({postTypes:s})}updateTermExclusionStatus(e,t,s,n){const r=this.formatSpec([e,"taxonomies",t,"terms",s,"excluded"],{$set:n}),i=te()(this.state.postTypes,r);this.setState({postTypes:i})}formatSpec(e,t){return e.slice().reverse().forEach((e=>{t={[e]:t}})),t}toggleNewsSitemap(e){this.setState({enabled:"enable"===e})}updatePublication(e){this.setState({publication:e})}}c(ne,"defaultProps",{homeUrl:"",enabled:!1,publication:"",schemaEnabled:"",postTypes:{}}),function(t,s){const n=document.getElementById("wds-url-crawler-report");n&&(0,o.render)((0,e.createElement)(i,null,(0,e.createElement)(K,{onActiveIssueCountChange:function(e,s){const n=t("#tab_url_crawler .sui-box-header .sui-tag"),r=t("li.tab_url_crawler"),i=r.find(".sui-tag"),o=r.find(".sui-icon-check-tick"),a=r.find(".sui-icon-loader"),l=t(".wds-new-crawl-button"),c=t(".sui-summary-large"),u=t('.sui-summary-large + [class*="sui-icon-"]'),d=t(".wds-invisible-urls-count"),p=t(".sui-box-header .wds-ignore-all").closest("div");undefined!==e&&(e>0?(n.show().html(e),i.show().html(e),p.show(),o.hide(),u.removeClass("sui-icon-check-tick sui-success").addClass("sui-icon-info sui-warning")):(n.hide(),i.hide(),p.hide(),o.show(),u.removeClass("sui-icon-info sui-warning").addClass("sui-icon-check-tick sui-success")),c.html(e),d.html(s),a.hide(),l.show())}})),n);const r=document.getElementById("wds-news-sitemap-tab");function a(){t(".tab_url_crawler").find(".wds-url-crawler-progress").length&&t.post(ajaxurl,{action:"wds_get_crawl_progress",_wds_nonce:Wds.get("crawler","nonce")},(()=>!1),"json").done((function(e){var s,n;const r=null==e||null===(s=e.data)||void 0===s?void 0:s.in_progress,i=null==e||null===(n=e.data)||void 0===n?void 0:n.progress,o=t("#tab_url_crawler .wds-progress");r?(Wds.update_progress_bar(o,i),setTimeout(a,5e3)):(Wds.update_progress_bar(o,100),window.location.reload())}))}function l(){t(".wds-sitemap-toggleable").each((function(){const e=t(this),s=e.next("tr").find(".sui-table");e.find('input[type="checkbox"]').is(":checked")?s.show():s.hide()}))}function c(){const e=t("#wds-switch-to-native-button");Wds.open_dialog("wds-switch-to-native-modal","wds-switch-to-native-sitemap",e.attr("id")),e.off().on("click",(function(){e.addClass("sui-button-onload"),p(!1,(function(){window.location.href=d({"switched-to-native":1})}))}))}function u(){const e=t("#wds-switch-to-smartcrawl-button");Wds.open_dialog("wds-switch-to-smartcrawl-modal","wds-switch-to-smartcrawl-sitemap",e.attr("id")),e.off().on("click",(function(){e.addClass("sui-button-onload"),p(!0,(function(){window.location.href=d({"switched-to-sc":1})}))}))}function d(e){const s=window.location.href,n=new URLSearchParams(window.location.search);return s.split("?")[0]+"?"+t.param(t.extend({},{page:n.get("page")},e))}function p(e,s){return t.post(ajaxurl,{action:"wds-override-native",override:e?"1":"0",_wds_nonce:Wds.get("sitemaps","nonce")},s,"json")}function h(){const e=t(this);return e.addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-manually-update-engines",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){Wds.show_floating_message("wds-sitemap-manually-notify-search-engines",Wds.l10n("sitemaps","manually_notified_engines"),"success"),e.removeClass("sui-button-onload")}),"json")}function m(){const e=t(this);return e.addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-manually-update-sitemap",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){Wds.show_floating_message("wds-sitemap-manually-updated",Wds.l10n("sitemaps","manually_updated"),"success"),e.removeClass("sui-button-onload")}),"json")}function g(){return t(this).addClass("sui-button-onload"),t.post(ajaxurl,{action:"wds-deactivate-sitemap-module",_wds_nonce:Wds.get("sitemaps","nonce")},(function(){window.location.reload()}),"json")}r&&(0,o.render)((0,e.createElement)(i,null,(0,e.createElement)(ne,{homeUrl:O.get("home_url","news"),schemaEnabled:O.get("schema_enabled","news"),enabled:O.get("enabled","news"),publication:O.get("publication","news"),postTypes:O.get("post_types","news")})),r),t((function(){window.Wds.hook_conditionals(),window.Wds.hook_toggleables(),window.Wds.conditional_fields(),window.Wds.dismissible_message(),window.Wds.vertical_tabs(),window.Wds.reporting_schedule(),a(),class{static getQueryParam(e){const t=location.search;return new URLSearchParams(t).get(e)}static removeQueryParam(e){const t=location.search,s=new URLSearchParams(t);if(!s.get(e))return;s.delete(e);const n=location.href.replace(t,"?"+s.toString());history.replaceState({},"",n)}}.removeQueryParam("crawl-in-progress"),t(document).on("change",'.wds-sitemap-toggleable input[type="checkbox"]',l).on("change","#wds_sitemap_options-sitemap-disable-automatic-regeneration",(function(){const e=t(this);e.closest(".sui-toggle").find(".sui-notice").toggleClass("hidden",e.is(":checked"))})).on("click","#wds-switch-to-native-sitemap",c).on("click","#wds-switch-to-smartcrawl-sitemap",u).on("click","#wds-deactivate-sitemap-module",g).on("click","#wds-manually-update-sitemap",m).on("click","#wds-manually-notify-search-engines",h),t(l)}))}(jQuery)}()}();